---
layout: default
title: Simplemath
---

<h2>Binomial Coefficients</h2>

<definition> The integer coefficients of $(x + y)^n$ are called the <u>binomial coefficients</u>. We denote the 
coefficient of $x^{n - i}y^i$ by $\binom{n}{i}$.
</definition>

<theorem> For $0 \leq i \leq n$ we have
$$\binom{n}{i} = \binom{n}{n - i}.$$
</theorem>

<proof> We have $(x + y)^n = (y + x)^n$. But the coefficient of $x^{n - i}y^i$ is $\binom{n}{i}$ on the left and 
$\binom{n}{n - i}$ on the right.
</proof>

<theorem> The binomial coefficients are characterised by
<ul>
<li> For all $n \geq 0$, $\binom{n}{0} = \binom{n}{n} = 1$</li>
<li> For $n > 1$ and $0 < i < n$, $\binom{n}{i} = \binom{n - 1}{i - 1} + \binom{n - 1}{i}$.</li>
</ul>
</theorem>

<proof> For $n = 0$ the only binomial coefficient is $\binom{0}{0}$. It corresponds to the single coefficient in 
$(x + y)^0$, which is $1$. </br></br>

For all $n$ we have that $\binom{n}{0}$ is the coefficient of $x^n$ in $(x + y)^n$, i.e. $1$. By the previous theorem we 
also have $\binom{n}{n} = 1$. All other binomial coefficients are of the form $\binom{n}{i}$ for $n > 1$ and $0 < i < n$.
The theorem defines these inductively in terms of binomial coefficients of the form $\binom{n - 1}{j}$. Thus it suffices 
to show that the second relation of the theorem actually holds for binomial coefficients. </br></br>

We have that $(x + y)^n = (x + y)^{n-1}(x + y)$. The $x^{n - i}y^i$ term is $x$ times the term 
$\binom{n - 1}{i}x^{n - i - 1}y^i$ plus $y$ times the term $\binom{n - 1}{i - 1}x^{n - i}y^{i - 1}$. Thus, $\binom{n}{i}$,
the coefficient of $x^{n - i}{y^i}$ is $\binom{n - 1}{i} + \binom{n - 1}{i - 1}$.
</proof>

<theorem> For $n \geq 0$ and $0 \leq i \leq n$ we have that 
$$\binom{n}{i} = \frac{n!}{(n - i)!i!}.$$
</theorem>

<proof> Let us write $C(n, i) = \frac{n!}{(n - i)!i!}$. It suffices to show that $C(n, i)$ satisfies the conditions of 
the previous theorem since these completely characterise the binomial coefficients.</br></br>

We have that for all $n$, $C(n, 0) = \frac{n!}{n!0!} = 1$. Similarly, $C(n, n) = \frac{n!}{0!n!} = 1$. </br></br>

Finally 
$$C(n - 1, i - 1) + C(n - 1, i) = \frac{(n - 1)!}{(n - i)!(i - 1)!} + \frac{(n - 1)!}{(n - i - 1)!i!}$$
$$= \frac{(n - 1)!(i + (n - i))}{(n - i)!i!} = \frac{n!}{(n - i)!i!} = C(n, i).$$
Thus we must have $C(n, i) = \binom{n}{i}$.
</proof>

<theorem> For $0 \leq j \leq k \leq n$ we have
$$\binom{n}{k}\binom{k}{j} = \binom{n}{j}\binom{n - j}{k - j}.$$
</theorem>

<proof> We have
$$\binom{n}{k}\binom{k}{j} = \frac{n!}{(n - k)!k!}\frac{k!}{(k - j)!j!} 
= \frac{n!}{j!(n - j)!}\frac{(n - j)!}{(k - j)!(n - k)!} = \binom{n}{j}\binom{n - j}{k - j}.$$
</proof>

<theorem> For all $0 \leq k \leq n$ we have
$$\binom{n}{k} = \frac{n}{k}\binom{n - 1}{k - 1}.$$
</theorem>

<proof> We have
$$\binom{n}{k} = \frac{n!}{k!(n - k)!} = \frac{n}{k}\frac{(n - 1)!}{(k - 1)!(n - k)!} = \binom{n - 1}{k - 1}.$$
</proof>

<theorem> For $0 \leq 2k \leq n$ we have
$$\binom{n - k}{k}\frac{n}{n - k} = \binom{n - k}{k} + \binom{n - k - 1}{k - 1}.$$
</theorem>

<proof> We have
$$\binom{n - k}{k}\frac{n}{n - k} = \frac{(n - k)!}{k!(n - 2k)!}\frac{n}{n - k} 
= \frac{(n - k)!}{k!(n - 2k)!}\frac{n - k}{n - k} + \frac{(n - k)!}{k!(n - 2k)!}\frac{k}{n - k}$$
$$= \frac{(n - k)!}{k!(n - 2k)!} + \frac{(n - k - 1)!}{(k - 1)!(n - 2k)!} 
= \binom{n - k}{k} + \binom{n - k - 1}{k - 1}.$$
</proof>

<theorem> For $n, k \geq 0$ we have
$$\binom{n + k}{k}\frac{1}{n + k} = \frac{1}{n}\left(\binom{n + k}{k} - \binom{n - k - 1}{k - 1}\right).$$ 
</theorem>

<proof> We have
$$\binom{n + k}{k}\frac{n}{n + k} = \frac{(n + k)!}{k!n!}\frac{n}{n + k} 
= \frac{(n + k)!}{k!n!}\frac{n + k}{n + k} - \frac{(n + k)!}{k!n!}\frac{k}{n + k}$$
$$= \frac{(n + k)!}{k!n!} - \frac{(n + k - 1)!}{(k - 1)!n!} = \binom{n + k}{k} - \binom{n + k - 1}{k - 1}.$$
</proof>

<theorem> For $n \geq 0$ we have
$$\sum_{i = 0}^n \binom{n}{i} = 2^n.$$
</theorem>

<proof> We expand out the expression $(x + y)^n$ with $x = 1$ and $y = 1$. This yields 
$$\sum_{i = 0}^n \binom{n}{i} = (1 + 1)^n = 2^n.$$
</proof>

<theorem> For $n \geq 0$ we have
$$\sum_{i = 0}^n 2^i\binom{n}{i} = 3^n.$$
</theorem>

<proof> We expand out the expression $(x + y)^n$ with $x = 2$ and $y = 1$. This yields
$$\sum_{i = 0}^n 2^i\binom{n}{i} = (2 + 1)^n = 3^n.$$
</proof>

<theorem> For $n \geq 1$ we have
$$\sum_{i = 0}^n (-1)^i\binom{n}{i} = 0.$$
</theorem>

<proof> We expand out the expression $(x + y)^n$ with $x = -1$ and $y = 1$. This yields
$$\sum_{i = 0}^n (-1)^i\binom{n}{i} = (-1 + 1)^n = 0,$$
when $n > 0$.
</proof>

<theorem> For $n \geq 0$ we have
$$\sum_{i = 0}^n i \binom{n}{i} = n2^{n - 1}.$$
</theorem>

<proof> We differentiate the expression 
$$(x + 1)^n = \sum_{i = 0}^n \binom{n}{i}x^i.$$
This yields
$$n(x + 1)^{n - 1} = \sum_{i = 1}^n i\binom{n}{i}x^{i - 1}.$$

Substituting $x = 1$ into the expression yields 
$$n2^{n - 1} = \sum_{i = 1}^n i\binom{n}{i} = \sum_{i = 0}^n i\binom{n}{i}.$$
</proof>

<theorem> For every natural number $n$ and $0 < i \leq n$ we have
$$\frac{n - 2i}{n}\binom{n}{i} = \binom{n - 1}{i} - \binom{n - 1}{i - 1}.$$
</theorem>

<proof> We have
$$\binom{n - 1}{i} - \binom{n - 1}{i - 1} = \frac{n - i}{n}\binom{n}{i} - \frac{i}{n}\binom{n}{i}
= \frac{n - 2i}{n}\binom{n}{i}.$$
</proof>

<theorem> For every $n, i, j \geq 0$ with $0 \leq i + j \leq n$ we have
$$\binom{n}{i}\binom{n - i}{j} = \binom{n}{j}\binom{n - j}{i}.$$
</theorem>

<proof> By symmetry, we may suppose without loss of generality that $i \geq j$. We have
$$\binom{n}{i}\binom{n - i}{j} = \frac{n!}{i!(n - i)!}\frac{(n - i)!}{j!(n - i - j)!}
= \frac{n!}{i!}\frac{1}{j!(n - i - j)!}$$ $$= \frac{n!}{i!(n - j)!}\frac{(n - j)!}{j!(n - i - j)!} 
= \frac{n!}{j!(n - j)!}\frac{(n - j)!}{i!(n - i - j)!} = \binom{n}{j}\binom{n - j}{i}.$$
</proof>

<theorem> (Vandermonde) For $n \geq m \geq 0$ and $k + m \leq n$ with $k \geq 0$, we have
$$\sum_{i = 0}^k \binom{m}{i}\binom{n - m}{k - i} = \binom{n}{k}.$$
</theorem>

<proof> Consider the coefficient of $x^k$ in $(1 + x)^n = (1 + x)^m(1 + x)^{n - m}$. On the left side we have 
$\binom{n}{k}$. On the right side we have $\sum_{i = 0}^k \binom{m}{i}\binom{n - m}{k - i}$.
</proof>

<theorem> For $n \geq 0$ we have
$$\sum_{i = 0}^n \binom{n}{i}^2 = \binom{2n}{n}.$$
</theorem>

<proof> In the previous theorem, replace $n$ with $2n$, $k$ with $n$ and $m$ with $n$. This yields
$$\sum_{i = 0}^n \binom{n}{i}\binom{n}{n - i} = \binom{2n}{n}.$$

The result follows on noting that $\binom{n}{i} = \binom{n}{n - i}$.
</proof>

<theorem> For $n \geq 0$ we have
$$\sum_{i = 0}^n \binom{2n}{i}\binom{n}{i} = \binom{3n}{n}.$$
</theorem>

<proof> In Vandermonde's theorem, replace $n$ with $3n$, set $m = 2n$ and $k = n$. This yields
$$\sum_{i = 0}^n \binom{2n}{i}\binom{n}{n - i} = \binom{3n}{n}.$$

The result now follows by noting that $\binom{n}{n - i} = \binom{n}{i}$.
</proof>

<definition> Let $F(1) = 1$, $F(2) = 1$ and $F(i + 1) = F(i) + F(i - 1)$ for all $i \geq 2$. The sequence of numbers
$F(1) = 1$, $F(2) = 1$, $F(3) = 2$, $F(4) = 3$, $F(5) = 5$, $\ldots$ is called the <u>Fibonacci sequence</u>.
</definition>

<theorem> For $n \geq 0$ we have
$$\sum_{i = 0}^{\lfloor \frac{n}{2} \rfloor} \binom{n - i}{i} = F(n + 1).$$
</theorem>

<proof> We proceed by induction. For $n = 0, 1$ the left hand is $1$, and indeed $F(1) = F(2) = 1$. </br></br>

Assume the result is true for $F(1)$, $F(2)$, $\ldots$, $F(n)$. Then we have
$$F(n + 1) = F(n) + F(n - 1) = \sum_{i = 0}^{\lfloor \frac{n - 2}{2} \rfloor} \binom{n - 2 - i}{i} + 
\sum_{i = 0}^{\lfloor \frac{n - 1}{2} \rfloor} \binom{n - 1 - i}{i}.$$

But $\binom{n - 1 - i}{i} + \binom{n - 2 - (i - 1)}{i - 1} = \binom{n - i}{i}$. So if $n - 1$ is even, the value above is 
$$1 + \sum_{i = 1}^{\lfloor \frac{n - 1}{2} \rfloor} \binom{n - i}{i} 
= \sum_{i = 0}^{\lfloor \frac{n}{2} \rfloor} \binom{n - i}{i}.$$

Similarly, if $n - 1$ is odd, the value is
$$1 + \binom{\frac{n - 2}{2}}{\frac{n - 2}{2}} + \sum_{i = 1}^{\lfloor \frac{n - 1}{2} \rfloor} \binom{n - i}{i}
= \sum_{i = 0}^{\lfloor \frac{n}{2} \rfloor} \binom{n - i}{i}.$$
</proof></br>

<theorem> If $f(x) = \sum_{i = 0}^n a_ix^i$ and $g(x) = \sum_{i = 0}^n b_ix^i$ then $\sum_{i = 0}^n _ib_i$ is the
constant term of $f(x)g(x^{-1})$.
</theorem>

<proof> We have $f(x)g(x^{-1}) = (\sum_{i = 0}^n a_ix^i)(\sum_{j = 0}^n b_jx^{-j})$. The constant term consists of all 
the product terms with $i = j$, i.e. $\sum_{i = 0}^n a_ib_i$.
</proof>

<theorem> For $n \geq 0$ we have
$$\sum_{i = 0}^{2n} (-1)^i \binom{2n}{i}^2 = (-1)^n \binom{2n}{n}.$$
</theorem>

<proof> We apply the previous theorem with $f(x) = \sum_{i = 0}^{2n} (-1)^i\binom{2n}{i}x^i$ and 
$g(x) = \sum_{i = 0}^{2n} \binom{2n}{i}x^i$ (replacing $n$ with $2n$ in the theorem). The left hand side is then the 
constant term in $f(x)g(x^{-1})$. But we see $f(x) = (x - 1)^{2n}$ and $g(x) = (x + 1)^{2n}$. Thus $f(x)g(x^{-1})$ is
$(x - 1)^{2n} (x^{-1} + 1)^{2n}$. </br></br>

The constant term in this expression is the coefficient of $x^{2n}$  in 
$$x^{2n}f(x)g(x^{-1}) = (x - 1)^{2n} (x + 1)^{2n} = (x^2 - 1)^{2n},$$
which is $(-1)^n \binom{2n}{n}$.
</proof>

<definition> Given two formal power series $f(x) = \sum_{i = 0}^\infty a_ix^i$ and $g(x) = \sum_{i = 0}^\infty b_ix^i$,
we say that $g(x) = f(x)^{-1}$ if $f(x)g(x) = 1$ as formal series.
</definition>

<theorem> We have that
$$(1 + x)^{-1} = \sum_{i = 0}^\infty (-1)^i x^i.$$
</theorem>

<proof> We have
$$(1 + x)\sum_{i = 0}^\infty (-1)^i x^i = 1 + x - x + x^2 - x^2 + \cdots = 1.$$
</proof>

<theorem> For $n < 0$ we have
$$(1 + x)^n = \sum_{i = 0}^\infty (-1)^i \binom{i - n - 1}{i} x^i.$$
</theorem>

<proof> We prove the result by induction. For $n = -1$, by the previous result, it suffices to show that 
$\binom{i - n - 1}{i} = 1$. But this is true because for $n = -1$ we have $i - n - 1 = i$. </br>

We now show that 
$$(1 + x)\sum_{i = 0}^\infty (-1)^i \binom{i - n - 1}{i} x^i = \sum_{i = 0}^\infty (-1)^i \binom{i - n - 2}{i} x^j.$$

The coefficient of $x^i$ on the left, for $i > 0$ is 
$$(-1)^i \binom{i - n - 1}{i} + (-1)^{i - 1} \binom{i - n - 2}{i - 1}.$$ But this has the value
$$(-1)^i \binom{i - n - 2}{i} \left(\frac{i - n - 1}{-n - 1} - \frac{i}{-n - 1}\right) = (-1)^i \binom{i - n - 2}{i}.$$

The coefficient of $x^0$ on both sides is $1$, thus the two sides are equal, completing the induction.
</proof>

<definition> For $n < 0$ we define
$$\binom{n}{k} = \frac{n(n - 1)\ldots (n - k + 1)}{k!} = (-1)^k \binom{k - n - 1}{k}.$$
We call these the <u>extended binomial coefficients</u>
</definition>

<corollary> For $n < 0$ we have
$$(x + 1)^n = \sum_{i = 0}^\infty \binom{n}{i} x^i.$$
</corollary>

<theorem> (Progressive binomial coefficients) For $n \geq 0$ we have
$$(1 - x)^{-n - 1} = \sum_{i = 0}^\infty \binom{n + i}{i} x^i.$$
</theorem>

<proof> From the definition of the extended binomial coefficients, we have
$$\sum_{i = 0}^\infty \binom{n + i}{i} x^i = \sum_{i = 0}^\infty \binom{-n - 1}{i} (-1)^ix^i = (1 - x)^{-n - 1},$$
where the final equality follows from the above corollary.
</proof>

<corollary> For $n \geq 0$ we have
$$\sum_{i = 0}^\infty \binom{n + i}{i} \frac{1}{2^i} = 2^{n + 1}.$$
</corollary>

<definition> A <u>rational function</u> is a quotient of polynomials $f(x)/g(x)$ where $g(x) \neq 0$. We will write
$$[x^n] \frac{f(x)}{g(x)}$$
for the coefficient of the term $x^n$ in the formal power series expansion of $f(x)/g(x)$.
</definition>

<theorem> (Partial sum formula) Let $f(x) = \sum_{i = 0}^\infty a_i x^i$, then
$$\sum_{i = 0}^n a_i = [x^n] \frac{f(x)}{1 - x}.$$
</theorem>

<proof> We have
$$\frac{f(x)}{1 - x} = (\sum_{i = 0}^\infty a_i x^i)(\sum_{i = 0}^\infty x^i).$$
The $x^n$ term of this is given by $\sum_{i = 0}^n a_i$.
</proof>

<theorem> For $n \geq 0$ we have
\sum_{k = 0}^n (-1)^k \binom{2n}{k} = (-1)^n \binom{2n - 1}{n}.$$
</theorem>

<proof> By the partial sum theorem, we have that
\sum_{k = 0}^n (-1)^k \binom{2n}{k} = [t^n] \frac{(1 - t)^2n}{1 - t} = [t^n] (1 - t)^{2n - 1} 
= (-1)^n \binom{2n - 1}{n}.$$
</proof>

<theorem> For $0 \leq a \leq n$ we have
$$\sum_{k = a}^n \binom{k}{a} = \binom{n + 1}{a + 1}.$$
</theorem>

<proof> By a previous theorem
$$(1 - x)^{-a - 1} = \sum_{i = 0}^\infty \binom{a + i}{i} x^i = \sum_{i = 0}^\infty \binom{a + i}{a} x^i.$$

Thus 
$$x^a(1 - x)^{-a - 1} = \sum_{i = 0}^\infty \binom{a + i}{a} x^{a + i}.$$

If we let $a_i = 0$ for $i < a$ and $a_i = \binom{i}{a}$ otherwise, then 
$$x^a(1 - x)^{-a - 1} = \sum_{i = 0}^\infty a_ix^i.$$

By the partial sum formula above we therefore have that the value we are after
$$\sum_{i = 0}^n a_i = [x^n] x^a(1 - x)^{-a - 2} = [x^{n + 1}] x^{a + 1}(1 - x)^{-a - 2},$$
which by what we said above is given by $\binom{n + 1}{a + 1}$.
</proof>

<theorem> (Composition of power series) Let $f(x) = \sum_{i = 0}^\infty a_i x^i$ and 
$g(x) = \sum_{i = 0}^\infty b_i x^i$ be power series, then
$$f(g(x)) = \sum_{i = 0}^\infty a_i g(x)^i.$$
</theorem>

<proof> The result follows by substituting $g(x)$ for $x$ in the power series expression for $f(x)$.
</proof>

<theorem> (Sum of powers) Let $g(x) = \sum_{i = 0}^\infty b_i x^i$ be a power series, then
$$\sum_{k = 0}^\infty g(x)^k = \frac{1}{1 - g(x)}.$$
</theorem>

<proof> In the previous theorem, we set $f(x) = 1/(1 - x)$ which has power series $f(x) = \sum_{i = 0}^\infty x^i$. The
result then follows because $1/(1 - g(x))$ is $f(g(x))$.
</proof>

<theorem> For $n \geq 0$ we have
$$\sum_{k = 0}^n \binom{4n}{4k} = \frac{1}{4}\left(16^n + (-1)^n2^{2n + 1}\right).$$
</theorem>

<proof> From the progressive binomial coefficient theorem we have $$\binom{4n}{4k} = \binom{4n}{4n - 4k}$$ 
$$= [t^{4n - 4k}] \frac{1}{(1 - t)^{4k + 1}} = [t^{4n}] \frac{t^{4k}}{(1 - t)^{4k + 1}}.$$

Thus by the sum of powers theorem we have
$$\sum_{k = 0}^n \binom{4n}{4k} = \sum_{k = 0}^n [t^{4n}] \frac{1}{1 - t}  \frac{t^{4k}}{(1 - t)^{4k}}$$
$$= [t^{4n}] \frac{1}{1 - t} \sum_{k = 0}^n \left(\frac{t}{1 - t}\right)^{4k}$$
$$= [t^{4n}] \frac{1}{1 - t} \left[\frac{1}{1 - u} \;\bigg|\; u = \left(\frac{t}{1 - t}\right)^4\right].$$

But the latter yields the right side of the theorem as follows 
$$[t^{4n}] \frac{(1 - t)^3}{1 - 4t + 6t^2 - 4t^3} = [t^{4n}] \frac{(1 - t)^3}{(1 - 2t)(1 - 2t + 2t^2)}$$ 
$$= [t^{4n}] \frac{1}{4}\left(\frac{1}{1 - 2t} + \frac{2 - 2t}{1 - 2t + 2t^2} + \frac{1}{4}\right) 
= [t^{4n}] \frac{1}{4}\left(\frac{1}{1 - 2t} + \frac{2 + 2t - 4t^3}{1 + 4t^4} + \frac{1}{4}\right).$$
</proof>

<theorem> For $n > 0$ we have
$$\sum_{k = 0}^{n/2} (-1)^k \binom{n - k}{k} \frac{4^{n - k}}{n - k} = \frac{2^{n+1}}{n}.$$
</theorem>

<proof> The left hand side is equal to
$$4^n \sum_{k = 0}^{n/2} \left(\frac{-1}{4}\right)^k \frac{(n - k - 1)!}{k!(n - 2k)!}$$
$$=\frac{4^n}{n}\sum_{k = 0}^\infty\left(\frac{-1}{4}\right)^k\left(\binom{n - k}{k} + \binom{n - k - 1}{k - 1}\right).$$

Now we have that
$$\binom{n - k}{k} = \binom{n - k}{n - 2k} = \binom{- n + k + n - 2k - 1}{n - 2k} = \binom{-k - 1}{n - 2k}$$ 
$$= [t^{n - 2k}] \frac{1}{(1 - t)^{1 + k}} = [t^n] \frac{1}{1 - t} \left(\frac{t^2}{1 - t}\right)^k.$$

Similarly $$\binom{n - k - 1}{k - 1} = \binom{-k}{n - 2k} = [t^n] \left(\frac{t^2}{1 - t}\right)^k.$$

Thus by the composition of power series theorem, we have that the left side of the theorem is equal to
$$=\frac{4^n}{n} [t^n] \frac{2 - t}{1 - t}\left[\frac{1}{1 + u/4} \;\bigg|\; u = \frac{t^2}{1 - t}\right]$$
$$= \frac{4^n}{n} [t^n] \frac{2 - t}{(1 - t/2)^2} = [t^n] \frac{2\cdot 4^n}{n} \frac{1}{1 - t/2} = \frac{2^{n + 1}}{n}.$$
</proof>

<theorem> For $n > 0$ we have
$$\sum_{k = 0}^{n/2} (-1)^k \binom{n - k}{k} 2^{n - 2k} = n + 1.$$
</theorem>

<proof> The left hand side is equal to
$$2^n \sum_{k = 0}^{n/2} \left(\frac{-1}{4}\right)^k \binom{n - k}{k}.$$

From the proof of the previous theorem we can rewrite the binomial coefficient, yielding
$$2^n \sum_{k = 0}^\infty \left(\frac{-1}{4}\right)^k [t^n] \frac{1}{1 - t} \left(\frac{t^2}{1 - t}\right)^k.$$

Thus, by the composition of power series theorem we have
$$2^n [t^n] \frac{1}{1 - t} \left[\frac{1}{1 + u/4} \;\bigg|\; u = \frac{t^2}{1 - t}\right]$$ 
$$= 2^n [t^n] \frac{1}{1 - t + t^2/4} = [t^n] \frac{1}{(1 - t)^2} = \binom{-2}{n} (-1)^n = n + 1.$$
</proof>

<theorem> For $n > 0$ we have
$$\sum_{k = 0}^n \left(\frac{-1}{4}\right)^k \binom{2n - k}{k} = \frac{2n + 1}{4^n}.$$
</theorem>

<proof> We have
$$\binom{2n - k}{k} = \binom{2n - k}{2n - 2k} = \binom{-2n + k + 2n - 2k - 1}{2n - 2k} = \binom{-k - 1}{2n - 2k}$$
$$= [t^{2n - 2k}] \frac{1}{(1 - t)^{k + 1}} = [t^{2n}] \frac{1}{1 - t} \left(\frac{t^2}{1 - t}\right)^k.$$

Thus by the composition of power series theorem, the left hand side of the theorem equals
$$[t^{2n}] \frac{1}{1 - t} \left[\frac{1}{1 + u/4} \;\bigg|\; u = \frac{t^2}{1 - t}\right]$$
$$= [t^{2n}] \frac{1}{(1 - t/2)^2} = \binom{-2}{2n}\left(\frac{-1}{2}\right)^{2n} = \frac{2n + 1}{4^n}.$$
</proof>

<theorem> For $n > 0$ we have
$$\sum_{k = 0}^n \binom{2n - k}{k} = F_{2n+1}.$$
</theorem>

<proof> As in the previous theorem
$$\binom{2n - k}{k} = [t^{2n}] \frac{1}{1 - t} \left(\frac{t^2}{1 - t}\right)^k.$$

Thus, by the composition of power series theorem, the left hand side of the theorem equals
$$[t^{2n}] \frac{1}{1 - t}\left[\frac{1}{1 -u} \;\bigg|\; u = \frac{t^2}{1 - t}\right] = [t^{2n}] \frac{1}{1 - t - t^2}.$$

Letting $f(t) = \frac{1}{1 - t - t^2}$ we have that 
$$f(t) = 1 + t(1 + t) + t^2(1 + t)^2 + \cdots = 1 + t + a_2t^2 + a_3t^3 + \cdots$$

Setting $a_0 = a_1 = 1$ and noting that $(1 - t - t^2)f(t) = 1$ we see that $a_i = a_{i - 1} + a_{i - 2}$ for $i \geq 2$.
Thus $a_i = F_{i + 1}$. Thus $[t^{2n}] \frac{1}{1 - t - t^2} = F_{2n + 1}$.
</proof>

<theorem> For $n > 0$ we have
$$\sum_{k = 0}^n \binom{n + k}{2k}2^{n - k} = \frac{2^{2n + 1} + 1}{3}.$$
</theorem>

<proof> We have that 
$$\binom{n + k}{2k} = \binom{n + k}{n - k} = \binom{-n - k + n - k - 1}{n - k} = \binom{-2k - 1}{n - k}$$
$$= [t^{n - k}] \frac{1}{(1 - t)^{2k + 1}} = [t^n] \frac{1}{1 - t} \left(\frac{t}{(1 - t)^2}\right)^k.$$

Thus by the composition of power series theorem, the left side of the theorem equals
$$2^n[t^n] \frac{1}{1 - t} \left[\frac{1}{1 + u/2} \;\bigg|\; u = \frac{t}{(1 - t)^2}\right]$$
$$= 2^n[t^n] \frac{1 - t}{(1 - 2t)(1 - t/2)}.$$

Letting $v = 2t$ this expression equals 
$$[v^n] \frac{1 - 2v}{(1 - 4v)(1 - v)} = [v^n]\frac{1}{3}\left(\frac{2}{1 - 4v} + \frac{1}{1- v}\right)
= \frac{2^{2n + 1} + 1}{3}.$$ 
</proof>
