---
layout: default
title: Simplemath
---

<h2>Divisibility</h2>

<definition>The <u>integers</u> are the counting numbers,  positive, negative and zero, i.e. 
$\ldots, -2, -1, 0, 1, 2, \ldots$. We denote the set of integers by $\Z$. We sometimes write 
$\Z_{\geq 0}$ for the set of integers greater than or equal to zero, etc.
</definition>

<definition> For integers $a$ and $b$ we say that $a$ is <u>divisible</u> by $b$ (or that 
$b$ <u>divides</u> $a$ or $a$ is a <u>multiple</u> of $b$) if there is an integer $c$ 
such that $a = bc$. We write $b \;|\; a$.
</definition>

<definition> For $a \in \Z$ we define $|a|$ to be $-a$ if $a < 0$ and $a$ if $a \geq 0$. 
We call $|a|$ the <u>absolute value</u> of $a$. Note that for all $a \in \Z$ we have $|a| \geq 0$.
</definition> 

<definition> The <u>natural numbers</u> are the positive integers $1, 2, 3, \ldots$. We denote the set of natural
numbers by $\N$.
</definition> 

<definition> If $a, b \in \N$ we say $b$ is a <u>factor</u> of $a$ if $b$ divides $a$.
</definition>

<definition> We say that a divisor of a natural number $n$ is <u>proper</u> if it is not equal to $n$.
</definition>

<theorem> For $a, b \in \Z$ with $b \neq 0$, $a/b = c$ for some $c \in \Z$ iff $b \;|\; a$.
</theorem>

<proof> If $a/b = c$ then $a = bc$ and $a$ is divisible by $b$. Conversely if $b \;|\; a$ then $a = bc$ for some 
$c \in \Z$. As $b \neq 0$ dividing through by $b$ gives $a/b = c$.
</proof>

<theorem> If $a, b \in \N$ and $b \;|\; a$ then $a \geq b$.
</theorem>

<proof> We have that $a = bc$ for some natural number $c$. If $c = 1$ then $a = b$. Otherwise $c > 1$ 
and $a = b + (c-1)b > b$, as $c-1) \geq 0$. 
</proof> 

<theorem> If $a, b \in \N$ and $b \;|\; a$ and $a \;|\; b$ then $a = b$.
</theorem> 

<proof> We see from the previous theorem that $a \geq b$ and $b \geq a$. Thus $a = b$.
</proof> 

<theorem> If $a \;|\; b$ and $b \;|\; c$ then $a \;|\; c$.
</theorem> 

<proof> We can write $b = ua$ and $c = vb$ for some integers $u, v$. But then $c = vb = vua$, i.e. $c$ 
is a multiple of $a$. 
</proof> 

<theorem> If $a, b, n \in \Z$ and $n$ divides $a$ and $b$ then $n$ divides $as + bt$ for all integers
$s$ and $t$.
</theorem>

<proof> By assumption there exist $c, d \in \Z$ such that $a = cn$ and $b = dn$. Thus 
$as + bt = cns + dnt = n(cs + dt).$ In other words $as + bt$ is divisible by $n$.
</proof>

<corollary> If $a, b, n \in \Z$ and $n$ divides $a$ and $b$ then $n$ divides $a + b$ and $a - b$. If $n$ divides $a$ then
$n$ divides $sa$ for all $s \in \Z$.
</corollary>

<theorem> If $a, b, c \in \Z$ with $c \neq 0$ then $ac \;|\; bc$ iff $a \;|\; b$.
</theorem>

<proof> If $ac \;|\; bc$ then there exists $d \in \Z$ such that $acd = bc$. As $c \neq 0$ we can divide through
by $c$, which gives $ad = b$, i.e. $a \;|\; b$. Conversely, if $a \;|\; b$ then there exists $d \in \Z$ such that
$ad = b$. Multiplying through by $c$ we get $acd = bc$ which implies $ac \;|\; bc$.
</proof>

<theorem> (Division algorithm) If $a \in \Z$ and $b \in \N$ then there exist 
$q, r \in \Z$ such that $a = bq + r$, and $0 \leq r < b$.
</theorem> 

<proof> Consider the set of all integers of the form $a - bq$ for $q \in \Z$. We see that it is always possible to find
values of $q$ such that $a - bq \geq 0$ (if $a \geq 0$ just pick $q = 0$. If $a < 0$ pick $q < 0$ sufficiently small).
Thus the set of integers $a - bq > 0$ is non-empty. 
</br></br>

This set of integers must have a least value for some $q$. For this $q$ we claim $0 \leq a - bq < b$. We have 
$0 \leq a - bq$ by definition. Also, $a - bq < b$, otherwise $0 \leq a - b(q + 1)$ which is a lesser number of the
required form. </br></br>

We set $r = a - bq$ to be this least nonnegative value. Thus $0 \leq r < b$.
</proof> 

<definition> Given $a \in \Z$ and $b \in \N$ and $q, r$ as given by the division algorithm, we call $q$ the
<u>quotient</u> of $a$ by $b$ and $r$ the (least non-negative) <u>remainder</u>.
</definition>

<theorem> If $a \in \Z$ and $b \in \N$ then there exist 
$q, r \in \Z$ such that $a = bq + r$, and $-b/2 < r \leq b/2$.
</theorem>

<proof> We take $r'$ to be the least non-negative remainder, and $q'$ the associated quotient. If $r' > b/2$ we set
$r = r' - b$ and $q = q' + 1$, otherwise we take $r = r'$ and $q = q'$. </br></br> 

In the first case $0 = b - b > r = r' - b > b/2 - b = -b/2$ and $bq + r = b(q' + 1) + r' - b = bq' + r' = a$. </br></br> 

In the second case $0 \leq r = r' \leq b/2$ and $bq + r = bq' + r' = a$.
</proof>

<definition> We call $r'$ in the previous theorem the <u>least absolute remainder</u>.
</definition>

<h2>GCD and LCM</h2>

<definition> The <u>greatest common divisor</u> of two natural numbers $b$ and $c$, denoted $\gcd(b, c)$ is the 
largest natural number which divides both $b$ and $c$. If $\gcd(b, c) = 1$ we say that $b$ and $c$ are 
<u>coprime</u>. </br></br>

By convention we also define $\gcd(b, 0) = b$, $\gcd(0, c) = c$ and $\gcd(0, 0) = 0$ for all 
$b, c \in \N$.  
</definition> 

<definition> The <u>least common multiple</u> of two natural numbers $b$ and $c$, denoted $\lcm(b, c)$ is 
the smallest natural number which is divisible by both $b$ and $c$.

By convention we also define $\lcm(b, 0) = \lcm(0, c) = \lcm(0, 0) = 0$ for all $b, c \in \N$.
</definition> 

<theorem> If $c = \lcm(a, b)$ then $c$ divides any common multiple of $a$ and $b$.
</theorem> 

<proof> Assume $d$ is a common multiple of $a$ and $b$ such that $c$ does not divide $d$. Then by the 
division algorithm, $d = qc + r$ with $0 \leq r < c$. As $a$ and $b$ both divide $c$ and $d$ we see that 
$r$ is also a common multiple of $a$ and $b$. But as $r < c = \lcm(a, b)$ we have a contradiction. Thus $c$ 
must divide $d$ after all.
</proof> 

<theorem> If $a, b \in \N$ then 
$$c \;|\; a, b \;\;\mbox{iff}\;\; a, b \;|\; ab/c \;\;\mbox{iff}\;\; \lcm(a, b) \;|\; ab/c 
\;\;\mbox{iff}\;\; c \;|\; ab/\lcm(a, b).$$
</theorem> 

<proof> For the first implication, if $c \;|\; a$ then $a/c$ is a natural number, thus $ab/c$ is a multiple of 
$b$. Similarly if $c \;|\; b$ then $ab/c$ is a multiple of $a$. Conversely, if $a \;|\; ab/c$ then $b/c$ 
is an integer. Similarly if $b \;|\; ab/c$ then $a/c$ is an integer. Thus $c \;|\; a, b$. </br></br>

The second implication is given by the previous theorem. For the converse, as $a, b \;|\; \lcm(a, b)$ by definition 
then $a, b \;|\; ab/c$. </br></br>

For the third implication, we can write $ab/c = \lcm(a, b)u$ for some natural number $u$, i.e. 
$ab/\lcm(a, b) = cu$ which implies $c$ divides $ab/\lcm(a, b)$. The converse follows by reversing 
the argument. </br></br>
</proof>

<theorem> If $a, b \in \Z_{\geq 0}$ then 
$$ab = \gcd(a, b)\lcm(a, b).$$
</theorem> 

<proof> The theorem is true if either $a = 0$ or $b = 0$. Therefore restrict to the case where $a \neq 0$ and $b \neq 0$.
</br></br>

By the previous theorem $c \;|\; a, b \;\;\mbox{iff}\;\; c \;|\; ab/\lcm(a, b)$. </br></br>

If we set $c = \gcd(a, b)$ then we have $\gcd(a, b) \;|\; ab/\lcm(a, b)$ which implies
$ab/\lcm(a, b) \geq \gcd(a, b)$. </br></br>

On the othe hand, setting $c = ab/\lcm(a, b)$ we see that $ab/\lcm(a, b)$ is a common divisor of 
$a$ and $b$, which implies $ab/\lcm(a, b) \leq \gcd(a, b)$ by definition of the greatest common divisor. </br></br>

Combining the two inequalities we see that $ab/\lcm(a, b) = \gcd(a, b)$.
</proof> 

<theorem> Any common divisor of $a$ and $b$ is a divisor of $\gcd(a, b)$.
</theorem> 

<proof> From the previous two theorems we have respectively that 
$c \;|\; a, b \;\;\mbox{iff}\;\; c \;|\; ab/\lcm(a, b)$ and $\gcd(a, b) = ab/\lcm(a, b)$. Combining 
these facts the result follows immediately.
</proof> 

<theorem> For $b, c \in \N$ we have that 
$$\gcd(b, c) = \gcd(b, |b - c|).$$
</theorem> 

<proof> Let $d = \gcd(b, c)$. As $d$ divides $b$ we can write $b = sd$ for some natural number $s$. Similarly 
we can write $c = td$ for some natural number $t$. Thus $|b - c| = |sd - td| = |s - t|d$. Thus $d$ divides 
$|b - c|$. As we already have that $d$ divides $b$, the previous theorem says that $d$ divides $\gcd(b, |b - c|)$, 
i.e. $\gcd(b, c)$ divides $\gcd(b, |b - c|)$. </br></br>

Conversely, if $g = \gcd(b, |b - c|)$ then we can write $b = gu$ and $|b - c| = gv$ for some integers $u$ and 
$v$. If $b - c = 0$ then $g = b$ and we see that $g \;|\; \gcd(b, c)$. Otherwise $u$ and $v$ are natural 
numbers. But now $c = b - (b - c) = gu \pm gv = g(u \pm v)$ and so $g \;|\; c$. We already have that $g \;|\; b$, 
thus by the previous theorem we have $g \;|\; \gcd(b, c)$, i.e. $\gcd(b, |b - c|)$ divides $\gcd(b, c)$. </br></br>

But now $d = \gcd(b, c)$ divides $g = \gcd(b, |b - c|)$ and conversely, thus by an earlier theorem we have 
$\gcd(b, c) = \gcd(b, |b - c|)$.
</proof> 

<theorem> For $a, b \in \Z_{\geq 0}$ with $b \neq 0$, if 
$$a = bq + r$$ 
for $q, r \in \Z_{\geq 0}$ with $r < b$ then we have 
$$\gcd(a, b) = \gcd(b, r).$$
</theorem>

<proof> Let $g = \gcd(a, b)$ and $d  = \gcd(b, r)$. As $g$ divides $a$ and $b$, it also divides $r = a - bq$.
Thus $g$ divides both $b$ and $r$ and thus by a previous theorem it divides their gcd, $d$. </br></br>

Again by definition $d$ divides $b$ and $r$. Therefore it divides $a = bq + r$. Thus $d$ divides
both $a$ and $b$ and thus divides their gcd, $g$. </br></br>

By a previous result, as $d$ divides $g$ and conversely, $d = g$, which is what we wanted to show.
</proof>

<theorem> (Euclid's algorithm) Given $a, b \in \Z_{\geq 0}$ with $b \neq 0$, we can compute $\gcd(a, b)$
in finitely many steps.
</theorem>

<proof> Write $r_{-1} = a, r_0 = b$. Given $r_{i-1}, r_i \in \Z_{\geq 0}$ with $r_i \neq 0$ we can use
the division algorithm to find $q_{i+1}, r_{i+1} \in \Z_{\geq 0}$ such that
$$r_{i-1} = q_{i+1}r_i + r_{i+1},$$
with $r_{i+1} < r_i$. </br></br>

As the sequence $r_{-1}, r_0, r_1, \ldots$ is stricly decreasing and starts at a finite value, and every $r_i \geq 0$
we must eventually reach $0$. </br></br>

If $r_k$ is the final nonzero remainder in the sequence then applying the previous theorem to each pair of consecutive
remainders in turn, we see that $\gcd(a, b) = \gcd(r_k, 0) = r_k$. In other words, the last nonzero remainder in the
sequence is the gcd of $a$ and $b$. Thus we can compute $\gcd(a, b)$ in finitely many steps. </br></br>
</proof>

<theorem> (Extended euclidean algorithm) Given $a, b \in \Z_{\geq 0}$ with $b \neq 0$, if $d = \gcd(a, b)$
then we can find $s, t \in \Z$ such that
$$d = as + bt.$$
</theorem>

<proof> Let $r_k$ be the last nonzero remainder in the sequence given by the euclidean algorithm, i.e. 
$r_k = \gcd(a,b)$. Thus the final application of the division algorithm before we reached a nonzero remainder yielded
$$r_{k-2} = q_kr_{k-1} + r_k.$$

Rewriting this we have $r_k = r_{k-2} - q_kr_{k-1}$. But the previous application of the division algorithm can also
be rewritten, giving $r_{k-1}$ in terms of $r_{k-2}$ and $r_{k-3}$. Thus we can replace $r_{k-1}$ in the
expression for $r_k$ yielding an expression for $r_k$ in terms of $r_{k-2}$ and $r_{k-3}$ only. </br></br>

Rewriting each of the equations from previous applications of the division algorithm in turn and substituting, we
eventually obtain an expression for $r_k$ in terms of $r_{-1}$ and $r_0$ only, i.e. in terms of $a$ and $b$.
</br></br>

As $r_k = \gcd(a, b)$ we have an expression of the form $\gcd(a, b) = as + bt$ for some $s, t \in \Z$.
</proof>

<corollary> Given $a, b \in \N$ that are coprime, there exist $s, t \in \Z$ such that
$$as + bt = 1.$$
</corollary>

<theorem> Given $a, b$ as in the previous theorem with $d = \gcd(a, b)$ we can find $s, t \in \Z$ such that
$$d = as + bt$$
with either $s = 0$, $t = 1$ or $s = 1$, $t = 0$ or $s$ and $t$ have opposite signs and $|s| < b$ and
$|t| < a$.
</theorem>

<proof> If $s = 0$ then $d = bt$. As $d \;|\; b$ then $d = b$ and $t = 1$. By symmetry if $t = 0$, $s = 1$.
</br></br>

If $s, t \neq 0$ they aren't both negative, as $d$ is not. And they can't both be positive, else $d \geq a + b$ and
$a = 0$ or $b = 0$. If so, pick $s = 0$ or $t = 0$. Otherwise $s$ and $t$ have opposite signs. </br></br>

Without loss of generality, suppose $s > 0$. If $s \geq b$ we can decrease $s$ by $b$ and increase $t$ by 
$a$. We can keep doing this until $0 \leq s < b$. </br></br>

Suppose that we still don't have either $s = 0$ or $t = 0$. As $s < b$ we have $as < ab$. As $as$ and $ab$
are both multiples of $d$ we must have $as \leq ab - d$. Suppose that $-t > a$. Then $-bt > ab$. But then $as$
and $-bt$ differ by more than $d$, which is a contradiction. Thus $-t \leq a$. </br></br>

If $-t = a$ then $a \;|\; d$ and $a = d$. But then we take $s = 1$, $t = 0$. In the remaining case $-t < a$.
</proof>

<definition> Given $n$ values $a_1, a_2, \ldots a_n \in \Z_{\geq 0}$ we define their greatest common divisor
to be the largest integer dividing all of them. We write $\gcd(a_1, a_2, \ldots, a_n)$. Similarly if all the $a_i$ 
are nonzero we define their least common multiple to be the smallest natural number which is divisible by all of the 
$a_i$. We write $\lcm(a_1, a_2, \ldots, a_n)$.
</definition>

<theorem> (Absorption law) If $a, b \in \Z_{\geq 0}$ then
$$\gcd(a, \lcm(a, b)) = a.$$
</theorem>

<proof> As $a$ divides $\lcm(a, b)$ we have that $a$ is a common divisor of $a$ and $\lcm(a, b)$. It is therefore less
than or equal to their greatest common divisor. </br></br>

However their gcd must divide $a$ and so $\gcd(a, \lcm(a, b))$ is less than or equal to $a$. </br></br>

We have shown the left side of the identity divides the right and conversely, thus the two sides are equal.
</proof>

<theorem> (Absorption law) If $a, b \in \Z_{\geq 0}$ then
$$\lcm(a, \gcd(a, b)) = a.$$
</theorem>

<proof> $\gcd(a, b)$ divides $a$ and thus $a$ is a common multiple of them both. However any such common multiple much be
divisible by $a$ and hence greater than or equal to $a$. Thus $a$ is the least common multiple.
</proof>

<theorem>If $a_1, a_2, \ldots a_n \in \Z_{\geq 0}$ then
$$\gcd(a_1, a_2, \ldots, a_n) = \gcd(\ldots \gcd(\gcd(a_1, a_2), a_3), \ldots a_n).$$
</theorem>

<proof> Any divisor of the right side divides $a_n$ and $\gcd(\ldots \gcd(\gcd(a_1, a_2), a_3), \ldots a_{n-1})$. 
Thus it divides $a_{n-1}$, and so on. In fact it divides all of the $a_i$. The right hand side itself thus divides 
all the $a_i$. The right hand side is therefore less than or equal to the left hand side, which is the largest such
number. </br></br>

But any divisor of the left hand side divides all the $a_i$. We will show that it divides the right hand side. As it
divides $a_n$ it suffices to show it divides $\gcd(\ldots \gcd(\gcd(a_1, a_2), a_3), \ldots a_{n-1})$. But again, as
it divides $a_{n-1}$ it suffices to show it divides $\gcd(\ldots \gcd(\gcd(a_1, a_2), a_3), \ldots a_{n-2})$, etc. 
Eventually it suffices to show it divides $\gcd(a_1, a_2)$, which it does as it divides $a_1$ and $a_2$. </br></br>

Thus the left hand side itself divides the right hand side and is thus less than or equal to it. Combining the two 
inequalities we see that both sides are equal.
</proof>

<corollary> If $a_1, a_2, \ldots a_n \in \Z_{\geq 0}$ then
$$\gcd(a_1, a_2, \ldots, a_n) = \gcd(\gcd(a_1, a_2, \ldots, a_{n-1}), a_n).$$
</corollary>

<theorem>If $a_1, a_2, \ldots a_n \in \Z_{\geq 0}$ then
$$\lcm(a_1, a_2, \ldots, a_n) = \lcm(\ldots \lcm(\lcm(a_1, a_2), a_3), \ldots a_n).$$
</theorem>

<proof> The theorem is dual to the previous one and follows by replacing "gcd" with "lcm", "divisor of" with 
"multiple of", "divides" with "is divisible by" and "less than or equal to" with "greater than or equal to" and 
"largest such" with "smallest such".
</proof>

<corollary> If $a_1, a_2, \ldots a_n \in \Z_{\geq 0}$ then
$$\lcm(a_1, a_2, \ldots, a_n) = \lcm(\lcm(a_1, a_2, \ldots, a_{n-1}), a_n).$$
</corollary>

<theorem> If $a_1, a_2, \ldots a_n \in \Z_{\geq 0}$ then for any $0 < r \leq n$
$$\gcd(\gcd(a_1, a_2, \ldots, a_r), \gcd(a_{r+1}, a_{r+2}, \ldots a_n)) = 
\gcd(\gcd(a_1, a_2, \ldots, a_{r-1}), \gcd(a_r, a_{r+1}, \ldots a_n)).$$
</theorem>

<proof> The case $r = n$ is precisely the corollary above (assuming we define $\gcd(a_n) = a_n$). Let us assume the 
result is proven for $r = k$ for some $1 < k \leq n$. We will show it holds for $r = k-1$. </br></br>

Let 
$$d = \gcd(\gcd(a_1, a_2, \ldots, a_k), \gcd(a_{k+1}, a_{k+2}, \ldots a_n)).$$ 
Now in turn, by previous results we have 
$$d = \gcd(\gcd(\gcd(a_1, a_2, \ldots, a_{k-1}), a_k), \gcd(a_{k+1}, a_{k+2}, \ldots a_n)),$$
$$d = \gcd(\gcd(a_1, a_2, \ldots, a_{k-1}), a_k, \gcd(a_{k+1}, a_{k+2}, \ldots a_n)),$$
$$d = \gcd(\gcd(a_1, a_2, \ldots, a_{k-1}), \gcd(a_k, \gcd(a_{k+1}, a_{k+2}, \ldots a_n))),$$ 
observing that, by the definition of the gcd, reordering the terms does not change its value. Thus finally
$$d = \gcd(\gcd(a_1, a_2, \ldots, a_{k-1}), \gcd(a_k, a_{k+1}, \ldots a_n)).$$
</proof>

<theorem> If $a_1, a_2, \ldots a_n \in \Z_{\geq 0}$ then for any $0 < r \leq n$
$$\lcm(\lcm(a_1, a_2, \ldots, a_r), \lcm(a_{r+1}, a_{r+2}, \ldots a_n)) = 
\lcm(\lcm(a_1, a_2, \ldots, a_{r-1}), \lcm(a_r, a_{r+1}, \ldots a_n)).$$
</theorem>

<proof> The proof is the same as that of the previous theorem with gcd replaced by lcm.
</proof>

<theorem> If $a, b, c \in \Z_{\geq 0}$ then
$$\gcd(ac, bc) = c\gcd(a, b).$$
</theorem>

<proof> If $c = 0$ then both sides of the equality are zero. Thus it suffices to show the result for $c > 0$. 
</br></br>

If $a = bq + r$ with $r < b$ from the division algorithm, then multiplying through by $c$ we have 
$ac = (bc)q + (rc)$ with $rc < bc$. Thus every remainder in the sequence of remainders of the euclidean algorithm
will be multiplied by $c$. In particular, the final nonzero remainder will be multiplied by $c$, which is precisely
the statement of the theorem.
</proof>

<corollary> If $a_1, a_2, \ldots a_n, c \in \Z_{\geq 0}$ then
$$\gcd(a_1c, a_2c, \ldots, a_nc) = c\gcd(a_1, a_2, \ldots, a_n).$$
</corollary>

<theorem> If $a, b, c \in \Z_{\geq 0}$ then
$$\lcm(ac, bc) = c\;\lcm(a, b).$$
</theorem>

<proof> We recall that $ab = \gcd(a, b)\lcm(a, b)$. Thus the previous theorem is equivalent to
$$(ac)(bc)/\lcm(ac, bc) = abc/\lcm(a, b).$$
Rearranging and cancelling $abc$ from both sides gives us the result.
</proof>

<corollary> If $a_1, a_2, \ldots a_n, c \in \Z_{\geq 0}$ then
$$\lcm(a_1c, a_2c, \ldots, a_nc) = c\;\lcm(a_1, a_2, \ldots, a_n).$$
</corollary>

<therorem> If $a_1, a_2, \ldots, a_m, b_1, b_2, \ldots, b_n \in \Z_{\geq 0}$ then
$$\gcd(a_1, a_2, \ldots, a_m)\gcd(b_1, b_2, \ldots, b_n) = \gcd(a_1b_1, a_1b_2, \ldots, a_mb_n).$$
</therorem>

<proof> We have, by a previous theorem
$$\gcd(a_1, a_2, \ldots, a_m)\gcd(b_1, b_2, \ldots, b_n)$$
$$= \gcd(a_1\gcd(b_1, b_2, \ldots, b_n), a_2\gcd(b_1, b_2, \ldots, b_n), \ldots, a_m\gcd(b_1, b_2, \ldots, b_n))$$
$$= \gcd(\gcd(a_1b_1, a_1b_2, \ldots, a_1b_n), \gcd(a_2b_1, a_2b_2, \ldots, a_2b_n), \ldots, \gcd(a_mb_1, a_mb_2, \ldots,
a_mb_n))$$ $$= \gcd(a_1b_1, a_1b_2, \ldots, a_mb_n).$$
</proof>
<theorem> If $a_1, a_2, \ldots a_n \in \Z_{\geq 0}$ then for any fixed $0 < r < n$
$$a_1a_2\ldots a_n = \gcd(a_1a_2\cdots a_r, a_1a_2\cdots a_{r-1}a_{r+1}, \ldots)
\lcm(a_1a_2\cdots a_{n-r}, a_1a_2\cdots a_{n-r-1}a_{n-r+1}, \ldots),$$
where the gcd is of all products of the $a_i$ taken $r$ at a time and the lcm is of all products of the $a_i$ taken
$n-r$ at a time.
</theorem>

<proof> By a previous theorem the result is true for $n = 2$. Let us assume it is proved for $n = k-1$. </br></br>

Let us denote the gcd on the right side of the theorem with $n = k$ by $\gcd_r(a_1, \ldots, a_k)$ and the lcm by 
$\lcm_{n-r}(a_1, \ldots, a_k)$. With this notation, note that
$$\mbox{gcd}_r(a_1, \ldots, a_k) = 
\mbox{gcd}(\mbox{gcd}_r(a_1, \ldots, a_{k-1}), a_n\;\mbox{gcd}_{r-1}(a_1, \ldots, a_{k-1})).$$

If we multiply this by $L = \lcm_{k-r-1}(a_1, \ldots, a_{k-1})$ then by the assumption we obtain the value
$$\mbox{gcd}(a_1a_2\ldots a_{k-1}, a_k\;\mbox{gcd}_{r-1}(a_1, \ldots a_{k-1})\lcm_{k-r-1}(a_1, \ldots, a_{k-1})).$$ 

Similarly, if we multiply the lcm on the right side of the theorem by $G = \gcd_{r-1}(a_1, ..., a_{k-1})$, we obtain
$$\lcm(a_1a_2\ldots a_{k-1}, a_k\;\mbox{gcd}_{r-1}(a_1, \ldots a_{k-1})\lcm_{k-r-1}(a_1, \ldots, a_{k-1})).$$ 

Multiplying these we obtain $LG$ times the left side of the theorem for $n = k$, from which the result follows.
</proof>

<theorem> (Distributive law) Let $a, b, c \in \Z_{\geq 0}$, then
$$\lcm(a, \gcd(b, c)) = \gcd(\lcm(a, b), \lcm(a, c)).$$
</theorem>

<proof> Note $a$ divides both $\lcm(a, b)$ and $\lcm(a, c)$. Thus it divides their gcd, which is the 
right side of the identity. Similarly $\gcd(b, c)$ divides $b$ and hence $\lcm(a, b)$, and $c$ and hence
$\lcm(a, c)$. Thus $\gcd(b, c)$ divides the right side of the identity. But as $a$ and $\gcd(b, c)$ both
divide the right side, then so must their lcm. Thus the left side of the identity divides the right. </br></br>

Any divisor of the right side must divide both $\lcm(a, b)$ and $\lcm(a, c)$, i.e. it must divide 
$ab/\gcd(a, b)$ and $ac/\gcd(a, c)$. Thus it must divide $a\gcd(b/\gcd(a, b), c/\gcd(a, c))$. It then certainly 
divides $a\gcd(b/\gcd(a, b, c), c/\gcd(a, b, c)) = a\gcd(b, c)/\gcd(a, b, c)$. However, this is precisely the left hand 
side of the identity. Thus the right side of the identity divides the left. </br></br>

As the left side divides the right and conversely, the two sides are equal.
</proof>

<theorem> (Distributive law) Let $a, b, c \in \Z_{\geq 0}$, then
$$\gcd(a, \lcm(b, c)) = \lcm(gcd(a, b), \gcd(a, c)).$$
</theorem>

<proof> The proof is exactly dual to that of the previous distributive law.
</proof>

<theorem> Let $a, b, c \in \Z_{\geq 0}$, then
$$\gcd(\lcm(a,b), \lcm(b,c), \lcm(a,c)) = \lcm(\gcd(a,b), \gcd(b,c), \gcd(a,c)).$$
</theorem>

<proof> Let us rewrite the right side of the identity. It is in turn 
$$\lcm(\gcd(a,b), \lcm(\gcd(b,c), \gcd(a,c))) 
= \frac{\gcd(a,b)\lcm(\gcd(b,c), \gcd(a,c))}{\gcd(\gcd(a,b), \lcm(\gcd(b,c), \gcd(a,c)))}$$

$$= \frac{\gcd(a,b)\lcm(\gcd(b,c), \gcd(a,c))}{\gcd(a,b,c, \lcm(a,b))} 
= \frac{\gcd(a,b)\lcm(\gcd(b,c), \gcd(a,c))}{\gcd(a,b,c)}$$

$$= \frac{\gcd(a,b)\gcd(c,\lcm(a,b))}{\gcd(a,b,c)} = \frac{\gcd(c \gcd(a,b), ab)}{\gcd(a,b,c)} 
= \frac{\gcd(ac, bc, ac)}{\gcd(a,b,c)}.$$

By a dual argument the left side of the identity is 
$$\frac{\lcm(ac, bc, ac)}{\lcm(a,b,c)}.$$ 

The result now follows since $\lcm(ac, bc, ac)\gcd(a, b, c) = abc$ and its dual hold by a previous theorem.
</proof>

<theorem> Let $a, b, c \in \Z_{\geq 0}$, then
$$\frac{\lcm(a,b)\lcm(b,c)\lcm(c,a)}{\gcd(a,b)\gcd(b,c)\gcd(c,a)} 
= \frac{\lcm(a,b,c)^2}{\gcd(a,b,c)^2}.$$
</theorem>

<proof> By the previous theorem, this is equivalent to showing that the left side is equal to
$$\frac{\lcm(a,b,c)^2\gcd(\lcm(a,b), \lcm(c,a), \lcm(b,c))}{\gcd(a,b,c)^2\lcm(\gcd(a,b), \gcd(b,c), \gcd(a,c))}.$$

The result follows from the following argument and its dual
$$\frac{\lcm(a,b)\lcm(b,c)\lcm(c,a)}{\gcd(\lcm(a,b), \lcm(c,a), \lcm(b,c))}
= \lcm(\lcm(a,b)\lcm(c,a), \lcm(c,a)\lcm(b,c), \lcm(a,b)\lcm(b,c))$$
$$= \lcm(\lcm(c,a)\lcm(\lcm(a,b), \lcm(b,c)), \lcm(a,b)\lcm(b,c))$$ $$= \lcm(\lcm(c,a)\lcm(a,b,c), \lcm(a,b)\lcm(b,c))$$
$$= \lcm(\lcm(c,a)\lcm(a,b,c), \lcm(\lcm(a,b), \lcm(b,c))\gcd(\lcm(a,b),\lcm(b,c)))$$
$$= \lcm(\lcm(c,a)\lcm(a,b,c), \lcm(a,b,c)\gcd(\lcm(a,b),\lcm(b,c)))$$
$$= \lcm(a,b,c)\lcm(\lcm(c,a), \gcd(\lcm(a,b),\lcm(b,c)))$$ $$= \lcm(a,b,c)\lcm(\lcm(c,a), \lcm(b,\gcd(a,c)))$$
$$= \lcm(a,b,c)\lcm(a,b,c,\gcd(a,c)) = \lcm(a,b,c)^2.$$
</proof>

<h2>Primes</h2>

<definition> A natural number $n > 1$ is said to be <u>prime</u> if it is divisible only by $1$ and $n$. A natural number
which is divisible by a number other than $1$ and itself is said to be <u>composite</u>.
</definition>

<theorem> Every natural number $n$ greater than $1$ is divisible by a prime number.
</theorem>

<proof> If $n$ is a prime then we are done. Otherwise $n$ is composite and has at least one factor $a_1$ other than $1$ 
or $n$. Note that $a_1 < n$. </br></br>

Again if $a_1$ is prime then we are done. Otherwise $a_1$ is composite and has a factor $a_2$ other than $1$ or $a_1$ 
with $a_2 < a_1$. We keep applying the same argument and construct a sequence of natural numbers 
$n > a_1 > a_2 > a_3 > \cdots$ with $a_{i+1} \;|\; a_i$ for each $i$ and $a_1 \;|\; n$. But this sequence cannot go on
forever as it is strictly decreasing. Eventually it must stop at a number which has no factors other that $1$ and
itself, i.e. at a prime $a_m$. </br></br>

But $a_m$ divides $a_{m-1}$ and $a_{m-1}$ divides $a_{m-2}$, thus $a_m$ divides $a_{m-2}$. Repeating this argument we see
that $a_m$ divides each of $a_{m-1}, a_{m-2}, \ldots, a_1, n$. Thus $n$ is divisible by the prime number $a_m$.
</proof>

<theorem> Every natural number $n > 1$ can be written as a product of prime numbers.
</theorem>

<proof> If $n$ is prime we are done. Otherwise by the previous theorem we can write $n = p_1n_1$ for some prime number 
$p_1$. Note that $n_1 < n$. Now we apply the same argument to $n_1$ and so on. We construct a sequence of prime numbers
$p_1, p_2, \ldots$ and numbers $n > n_1 > n_2 > \cdots$. </br></br>

Eventually this process must terminate as the sequence of natural numbers $n_i$ is strictly decreasing. We must reach
some $n_m$ which is itself a prime $q$. In so doing we will have written $n = p_1p_2\cdots p_mq$ where each of the $p_i$
and $q$ are prime.
</proof>

<theorem> There are infinitely many prime numbers.
</theorem>

<proof> Let us assume there are finitely many prime numbers, $p_1, p_2, \ldots, p_n$. Consider the number 
$N = p_1p_2\cdots p_n + 1$. Clearly $N > 1$. Also, $N > p_1, p_2, \ldots, p_n$. </br></br>

Now $N$ is divisible by a prime $q$ say. But $N$ is not divisible by any of $p_1, p_2, \ldots, p_n$. For if it is
divisible by $p_i$ say, then $1 = N - p_1p_2\cdots p_n$ is also divisible by $p_i$, which is impossible. Therefore, $q$
is a prime distinct from all of those in the finite list $p_1, p_2, \ldots, p_n$. This is a contradiction and so there
must be an infinite number of primes.
</proof>

<definition> A natural number is said to be <u>even</u> if it is divisible by $2$, otherwise it is <u>odd</u>.
</definition>

<theorem> The only even prime is $2$.
</theorem>

<proof> Clearly $2$ is prime since the only natural number less than it is $1$. Thus its only factors are $1$ and $2$.
Every even number is of the form $n = 2m$ for some natural number $m$ by definition. The number $2$ is the case $m = 1$. 
In every other case $n$ is composite since $2 \;|\; n$ and $2 \neq n$ and $2 \neq 1$.
</proof>

<theorem> If $n = ab \in \N$ for $a, b \neq 1$ then either $a \leq \sqrt{n}$ or $b \leq \sqrt{n}$.
</theorem>

<proof> If $a, b \neq 1$ then $1 < a, b < n$. If both are greater than $\sqrt{n}$ their product is greater than $n$. 
Thus one of them must be at most $\sqrt{n}$.
</proof>

<theorem> If $n > 1$ is a natural number which is not divisible by any prime $p \leq \sqrt{n}$, then $n$ is prime.
</theorem>

<proof> Let $p$ be the smallest prime dividing $n$. Write $n = pm$. If $m = 1$ then then $n$ is prime and the only prime
dividing $n$ is $n$ itself, which is greater than $\sqrt{n}$. </br></br>

On the other hand if $m > 1$ it can be written as a product of primes, all of which are at least $p$ by definition.
Thus $m \geq p$. Thus $n \geq p^2$, i.e. $p \leq \sqrt{n}$. In other words, if $n$ is composite, the smallest prime
dividing $n$ is at most $\sqrt{n}$. </br></br>

Therefore, if $n$ is not divisible by any primes $p \leq \sqrt{n}$ it is itself prime.
</proof>

<example> The first few prime numbers are $2, 3, 5, 7, 11, 13, 17, 19, 23$.
</example>

<proof> We know $2$ is prime. For each of the other numbers $n$ in the list we must show that they are not divisible by any
primes up to $\sqrt{n}$. For each of $3, 5, 7$ it is sufficient that they are not divisible by $2$. For the remaining
numbers it is sufficient that they are not divisible by $2$ or $3$. 
</proof>

<theorem> There are infinitely many primes of the form $4k + 3$.
</theorem>

<proof> Note that $3$ is a prime of this form. Now suppose that there are only finitely many primes of this form, 
$p_1, p_2, \ldots, p_n$. Consider the number $N = 4p_1p_2\cdots p_n - 1$. As $N$ is larger than each of the $p_i$ it
cannot be prime. </br></br>

Write $N$ as a product of primes $N = q_1q_2\cdots q_m$. As $N$ is odd, it is not divisible by $2$. Thus each of the 
$q_i$ are odd, i.e. of the form $2s + 1$ for some $s$. If $q_i = 2s + 1$ and $s$ is even, i.e. $s = 2k$ for some $k$ then 
$q_i = 4k + 1$. When $s$ is odd, i.e. $s = 2k + 1$ for some $k$ then $q_i = 4k + 3$. </br></br>

But not all of the $q_i$ can be of the form $4k + 1$, since a product of numbers of this form is also of this form. For,
$(4k_1 + 1)(4k_2 + 1) = 4(4k_1k_2 + k_1 + k_2) + 1$. But $N$ is not of this form. Therefore at least one of the prime
factors $q_i$ of $N$ is of the form $4k + 3$. But $q_i$ cannot be equal to any of the $p_i$, otherwise $q_i$ divides
$1 = 4p_1p_2\cdots p_n - N$. This is a contradiction and therefore there are infinitely many primes of the form $4k + 3$.
</proof>

<theorem> There are infinitely many primes of the form $6k + 5$.
</theorem>

<proof> The prime $5$ is of this form. Suppose there are finitely many primes $p_1, p_2, \ldots, p_n$ of this form.
Consider the number $N = 6p_1p_2\cdots p_n - 1$. As $N > p_i$ for each $i$ it is not prime. </br></br>

Write $N = q_1q_2\ldots q_m$ with $q_i$ prime for all $i$. Each $q_i$ must be of the form $6k$, $6k + 1$, $6k + 2$, 
$6k + 3$, $6k + 4$ or $6k + 5$ by the division algorithm. But no $q_i$ can be of the form $6k$, $6k + 2$ or $6k + 4$ as
all of these are divisible by $2$ and $N$ is odd. Similarly no $q_i$ can be of the form $6k + 3$ since this is divisible
by $3$ and $N$ is not. Thus each of the $q_i$ must be of the form $6k + 1$ or $6k + 5$. </br></br>

But not all of the $q_i$ can be of the form $6k + 1$ since any product of numbers of this form is also of this form 
($(6k_1 + 1)(6k_2 + 1) = 6(6k_1k_2 + k_1 + k_2) + 1$), but $N$ is not of this form. Thus at least one of the $q_i$ is of 
the form $6k + 5$. However, $q_i$ cannot be any of the $p_i$ since otherwise $q_i$ divides $1 = 6p_1p_2\cdots p_n - N$,
which is impossible. Thus we have a contradiction and there are infinitely many primes of the form $6k + 5$.
</proof>

<corollary> There are infinitely many primes of the form $3k + 2$.
</corollary>

<theorem> If a prime $p$ divides a product $ab$ of natural numbers then either it divides $a$ or it divides $b$ (or 
both).
</theorem>

<proof> We show that if $p$ divides $ab$ but does not divide $a$ then it divides $b$. </br></br>

As $p$ does not divide $a$ then $p$ and $a$ are coprime, as the only divisors of $p$ are $1$ and $p$. Therefore, by the
extended euclidean algorithm we can find $s, t \in \Z$ such that $ps + at = 1$. Multiplying through by $b$ we have
$pbs + abt = b$. But now $p$ divides $b = pbs + abt$.
</proof>

<theorem> (Fundamental theorem of arithmetic) Every natural number $n > 1$ can be written as a product of primes in only
one way, up to the order of the factors.
</theorem>

<proof> Suppose to the contrary that $n \in \N$ is written as a product of primes in two essentially different ways, 
$n = p_1p_2\cdots p_r = q_1q_2\cdots q_s$, for $p_i$ and $q_j$ prime. </br></br>

We see that $p_1 \;|\; n$. Therefore by the previous theorem it divides either $q_1$ or $q_2q_3\cdots q_s$. If the latter
then it either divides $q_2$ or $q_3q_4\cdots q_s$, etc. Thus we see that $p_1$ divides one of the $q_j$. </br></br>

But if one prime divides another, they are the same prime since the only factor of a prime other than $1$ is the prime
itself. Therefore $p_1$ is equal to one of the $q_j$. By renumbering we can assume that it is equal to $q_1$. We can
therefore divide $p_1 = q_1$ from both sides. </br></br>

We repeat the argument in turn with $p_2$, $p_3$ up to $p_r$. Eventually we divide by all the primes $p_i$, which leaves
$1$. Each of the $p_i$ will have been equal to one of the $q_j$ in some order. Thus the primes were the same after all.
</proof>

<definition> We say that a proper divisor $a$ of a natural number $n$ is <u>maximal</u> if no other proper divisor of 
$n$ contains $a$ as a factor. The quotient $n/a$ of a maximal divisor $a$ of $n$ is called the <u>index</u> of $a$ in 
$n$.
</definition>

<definition> Let $n$ be a natural number. If $a_1$ is a maximal divisor of $n$ and $a_2$ a maximal divisor of $a_1$, and
$a_3$ a maximal divisor or $a_2$, etc., we call the sequence $a_0 = n, a_1, a_2, \ldots$ a <u>composition series</u>.
</definition>

<theorem> Given a natural number $n$, the index of a maximal divisor $d$ of $n$ in $n$ must be a prime divisor of $n$. 
</theorem>

<proof> Suppose to the contrary that $n/d = ab$ for $a, b \neq 1$. Then $n = abd$ and $bd$ is a proper divisor of $n$ 
containing $d$ as a proper factor. This contradicts the maximality of $d$. Thus $n/d$ must be prime. </br></br>

Furthemore, if $p$ is the index $n/d$ then $n = pd$, i.e. $p$ is one of the prime divisors of $n$. 
</proof>

<theorem> (Jordan) Let $a_0 = n, a_1, a_2, \ldots$ be a composition series of a natural number $n$. The set of indices
$a_0/a_1, a_1/a_2, \ldots$ is unique up to order.
</theorem>

<proof> Note that as $n$ is finite and we keep taking proper divisors, the composition series must be finite, i.e. 
$a_m = 1$ for some $m$. </br></br>

Let $p_1$ be the index of a maximal divisor $a_1$ of $a_0$. Then $a_0 = p_1a_1$. Similarly, if $p_2$ is the index of a
maximal divisor $a_2$ of $a_1$ then $a_1 = p_2a_2$. Then $a_0 = p_1p_2a_2$, etc. Eventually the composition series
terminates and by the previous theorem we will have expressed $n = a_0$ as a product of primes $p_1p_2\cdots p_m$. As the
prime factorisation of $n$ is unique up to order, and the $p_i$ are indices of the composition series, this set of 
indices is also unique up to order.
</proof>

<h2>Modular arithmetic</h2>

<definition> Let $m$ be a natural number. We say that integers $a$ and $b$ are <u>congruent</u> modulo $m$, and write
$a \equiv b \pmod{m}$ if there exists an integer $k$ such that $a = km + b$.
</definition>

<theorem> If $a$ and $b$ have the same least nonnegative remainder upon division by $m$ then $a \equiv b \pmod{m}$.
</theorem>

<proof> We have that $a = k_1m + r$ and $b = k_2m + r$ for some $0 \leq r < m$. Thus $a - b = (k_1 - k_2)m$, i.e.
$a = (k_1 - k_2)m + b$, which means that $a \equiv b \pmod{m}$.
</proof>

<theorem> If $a \equiv b \pmod{m}$ then $a + c \equiv b + c \pmod{m}$ for all integers $c$.
</theorem>

<proof> We have that $a = km + b$ for some integer $k$. Thus $a + c = km + b + c$ which implies 
$a + c \equiv b + c \pmod{m}$.
</proof>

<corollary> If $a \equiv b \pmod{m}$ then $a - c \equiv b - c \pmod{m}$ for all integers $c$.
</corollary>

<theorem> If $a \equiv b \pmod{m}$ and $c \equiv d \pmod{m}$ then $a + c \equiv b + d \pmod{m}$.
</theorem>

<proof> By the previous theorem $a + c \equiv b + c \equiv b + d \pmod{m}$. 
</proof>

<corollary> If $a \equiv b \pmod{m}$ and $c \equiv d \pmod{m}$ then $a - c \equiv b - d \pmod{m}$.
</corollary>

<theorem> If $a \equiv b \pmod{m}$ then $ac \equiv bc \pmod{m}$ for all integers $c$.
</theorem>

<proof> We have that $a = km + b$ for some integer $k$. Multiplying through by $c$ we have $ac = kcm + bc$. Thus we have
that $ac \equiv bc \pmod{m}$.
</proof>

<corollary> If $a \equiv b \pmod{m}$ and $c \equiv d \pmod{m}$ then $ac \equiv bd \pmod{m}$.
</corollary>

<theorem> If $a \equiv b \pmod{mn}$ then $a \equiv b \pmod{m}$.
</theorem>

<proof> We have $a = mnk + b$ for some integer $k$. From this we have that $a \equiv b \pmod{m}$.
</proof>

<theorem> If $a$ and $m$ are coprime there exists an $a'$ such that $aa' \equiv 1 \pmod{m}$. The converse holds.
</theorem>

<proof> Suppose that $\gcd(a, m) = 1$. Then by the extended euclidean algorithm there exist integers $s$ and $t$ such
that $as + mt = 1$. Thus $as \equiv 1 \pmod{m}$. </br></br>
  
Conversely, suppose that $aa' \equiv 1 \pmod{m}$. Then $aa' = km + 1$ for some integer $k$. Now suppose that $d$ is a
common divisor of $a$ and $m$. Then $1 = aa' - km$ must also be divisible by $d$. As the only natural number dividing $1$
is $1$ itself, the greatest common divisor of $a$ and $m$ must also be $1$.
</proof>

<definition> If $aa' \equiv 1 \pmod{m}$ we say that $a'$ is a <u>modular inverse</u> of $a$. We sometimes write 
$aa^{-1} \equiv 1 \pmod{m}$.
</definition>

<theorem> If a modular inverse of $a$ modulo $m$ exists, it is unique modulo $m$. 
</theorem>

<proof> If $aa' \equiv 1 \pmod{m}$, then $aa' = km + 1$ for some $k$. But then $a(a' + sm) = (as + k)m + 1$, i.e. we have
$a(a' + sm) \equiv 1 \pmod{m}$. But $a' \equiv a' + sm \pmod{m}$. </br></br>

To show uniqueness modulo $m$, suppose that $aa' \equiv aa'' \pmod{m}$. Thus $a(a' - a'') = km$ for some $k$. So $m$ 
divides $a(a' - a'')$. However, as $\gcd(a, m) = 1$ we must have $m \;|\; (a' - a'')$. Thus $a' \equiv a'' \pmod{m}$.
</proof>

<theorem> If $ac \equiv bc \pmod{m}$ and $\gcd(c, m) = 1$ then $a \equiv b \pmod{m}$.
</theorem>

<proof> By the previous theorem, as $\gcd(c, m) = 1$, there exists a modular inverse of $c$, i.e. a $c^{-1}$ such that
$cc^{-1} \equiv 1 \pmod{m}$. Multiplying $ac \equiv bc \pmod{m}$ through by $c^{-1}$ we get 
$a \equiv acc^{-1} \equiv bcc^{-1} \equiv b \pmod{m}$.
</proof>

<theorem> If $ac \equiv bc \pmod{mc}$ then if $c \neq 0$ we have $a \equiv b \pmod{m}$.
</theorem>

<proof> We have $ac = kmc + bc$. Thus, if $c \neq 0$ we can divide through by $c$ which gives $a = km + b$, i.e.
$a \equiv b \pmod{m}$.
</proof>

<theorem> If $ac \equiv bc \pmod{m}$ then $a \equiv b \pmod{m/d}$ where $d = \gcd(m, c)$. The converse also holds.
</theorem>

<proof> We have $ac = mk + bc$ for some integer $k$. Thus $(a - b)c = mk$. Now if $d = \gcd(m, c)$ we can divide through
by $d$, i.e. $(a - b)(c/d) = (m/d)k$. As $\gcd(m/d, c/d) = 1$ we must have that $c/d$ divides $k$. Dividing through by
$c/d$ we have $a - b = (m/d)k_1$ with $k_1 = k/(c/d)$. In other words, $a \equiv b \pmod{m/d}$. </br></br>

Conversely, if $a \equiv b \pmod{m/d}$ then $a = (m/d)k + b$. Multiplying through by $c$ we have $ac = m(c/d)k + bc$, 
i.e. $ac \equiv bc \pmod{m}$ as $c/d$ is an integer.
</proof>

<theorem> The relation $\equiv \pmod{m}$ is an equivalence relation and therefore the integers are partitioned into 
equivalence classes of integers modulo $m$.
</theorem>

<proof> We have from the definition that $a \equiv a \pmod{m}$. Also if $a \equiv b \pmod{m}$ then $a = mk + b$ for some
integer $k$. Thus $b = a - mk = a + m(-k)$. Thus we also have $b \equiv a \pmod{m}$. Finally if $a \equiv b \pmod{m}$ and
$b \equiv c \pmod{m}$ then $a = mk_1 + b$ and $b = mk_2 + c$ for some integers $k_1$ and $k_2$. Thus 
$a = m(k_1 + k_2) + c$, i.e. $a \equiv c \pmod{m}$. Thus $\equiv \pmod{m}$ is an equivalence relation.
</proof>

<definition> A set of representatives for the equivalence classes modulo $m$ is called a <u>complete set of residues</u>
modulo $m$.
</definition>

<theorem> The set $S = \{0, 1, \ldots, m - 1\}$ is a complete set of residues modulo $m$.
</theorem>

<proof> No two elements of $S$ are congruent modulo $m$. For if $a, b \in S$ and $a \equiv b \pmod{m}$ then $a = mk + b$
for some integer $k$, i.e. $a - b = mk$, a multiple of $m$. But as all the elements of $S$ differ by less than $m$, we
must have $k = 0$, i.e. $a = b$. </br></br>

Also, if $r$ is an arbitrary integer, then by the division algorithm we can write $r = km + s$ for $0 \leq s < m$. Thus
$r \equiv s \pmod{m}$ and $s \in S$. So every integer $r$ is congruent to a member of $S$. 
</proof>

<theorem> If $S = \{a_0, a_1, \ldots, a_{m - 1}\}$ is a complete set of residues modulo $m$ then  
$S_c = \{a_0c, a_1c, \ldots, a_{m - 1}c\}$ is iff $\gcd(m, c) = 1$.
</theorem>

<proof> Suppose $\gcd(m, c) = 1$. Then no two values in $S_c$ are congruent modulo $m$, for if 
$a_ic \equiv a_jc \pmod{m}$ then by a previous theorem $a_i \equiv a_j \pmod{c}$. As there are precisely $m$ elements in
$S_c$ it must be a complete set of residues modulo $m$. </br></br>

Conversely, suppose $\gcd(m, c) = d \neq 1$. Let's suppose that $kd = m$. As $d > 1$ we must have $k < m$. Now 
suppose that $a_i \equiv k$ and $a_j \equiv 0 \pmod{m}$. Such always exist as $S$ is a complete set of residues modulo
$m$. Now $a_ic \equiv kc \equiv 0 \pmod{m}$ as $kd = m$ divides $kc$. Also $a_jc \equiv 0 \pmod{m}$. Thus $S_c$ is not a
complete set of residues modulo $m$ as $a_jc \equiv a_ic \pmod{m}$.
</proof>

<theorem> If $S = \{a_0, a_1, \ldots, a_{m - 1}\}$ is a complete set of residues modulo $m$ then  
$T_c = \{a_0 + c, a_1 + c, \ldots, a_{m - 1} + c\}$ is also.
</theorem>

<proof> If $a_i + c \equiv a_j + c \pmod{m}$ then $a_i \equiv a_j \pmod{m}$. Thus the residues in $T_c$ are distinct
modulo $m$. As there are $m$ of them, $T_c$ is a complete set of residues.
</proof>

<corollary> If $S = \{a_0, a_1, \ldots, a_{m - 1}\}$ is a complete set of residues modulo $m$ then  
$\{a_0c + d, a_1c + d, \ldots, a_{m - 1}c + d\}$ is also if $\gcd(c, m) = 1$.
</corollary>

<theorem> A residue $a \pmod{m}$ is coprime with $m$ iff every element of the equivalence class of $a$ is comprime with
$m$.
</theorem>

<proof> If $\gcd(a, m) = 1$ and $b = km + a$ is an element of the same class, then $\gcd(b, m) = \gcd(a, m) = 1$. 
</br></br>

On the other hand, if $\gcd(a, m) = d > 1$ then $\gcd(b, m) = \gcd(a, m) = d$.
</proof>

<definition> A maximal set of mutually inequivalent residues coprime to $m$ is called a <u>reduced residue system</u>
modulo $m$.
</definition>

<theorem> If $p$ is prime, $S = \{1, 2, \ldots, p - 1\}$ is a reduced residue system modulo $p$.
</theorem>

<proof> The residues are mutually inequivalent modulo $p$. They are all coprime with $p$ as the only factors of $p$ are
$1$ and $p$. The only remaining residue class is that of $0$, but we cannot include it since no element of that class is 
coprime with $p$. Thus the set $S$ is maximal with respect to the other conditions and is therefore a reduced residue 
system.
</proof>

<theorem> The number of elements of a reduce residue system modulo $m$ only depends on $m$.
</theorem>

<proof> Since each equivalence class of residues either consists entirely of residues coprime with $m$ or not coprime 
with $m$ and since a reduced residue system has a representative from each of the former classes and none of the latter,
the number of elements in the reduced residue system modulo $m$ must be the number of equivalence classes of residues
coprime with $m$. This number depends only on $m$, not the representatives chosen.
</proof>

<definition> The number of residues in a reduced residue system modulo $m$ is a function of $m$ called the <u>Euler phi
function</u> and is denoted $\phi(m)$.
</definition>

<theorem> If $S = \{a_0, a_1, \ldots, a_{\phi(m)}\}$ is a reduced residue system modulo $m$ then  
$S_c = \{a_0c, a_1c, \ldots, a_{\phi(m)}c\}$ is iff $\gcd(m, c) = 1$.
</theorem>

<proof> If $\gcd(m, c) = d > 1$ then $a_ic$ is divisible by $d$ for all $i$. Thus $\gcd(a_ic, m) \neq 1$. </br></br>

Conversely, if $\gcd(m, c) = 1$ then $\gcd(a_ic, m) = 1$ for all $i$. For if $d$ divides $m$ and $a_ic$ then any prime
$p$ dividing $d$ must divide $m$ and $a_ic$. But then $p$ divides either $a_i$ or $c$, which is impossible as 
$\gcd(m, c) = 1$ and $\gcd(m, a_i) = 1$. </br></br>

If $a_ic \equiv a_jc \pmod{m}$ then since $\gcd(c, m) = 1$ we have $a_i \equiv a_j \pmod{m}$. Thus the residues in $S_c$
are mutually inequivalent. Since there are $\phi(m)$ of them $S_c$ must be a reduced residue system modulo $m$.
</proof>

<corollary> A reduced residue system modulo $m$ is closed under multiplication modulo $m$.
</corollary>

<theorem> If $S = \{a_0, a_1, \ldots, a_{\phi(m)}\}$ is a reduced residue system modulo $m$ then  
$$\sum_{i=1}^{\phi(m)} a_i = 0 \pmod{m}.$$
</theorem>

<proof> Each of the $a_i$ is congruent to a unique residue in the range $1\ldots (m-1)$. Replacing $a_i$ with such will
alter its value by a multiple of $m$ and thus not alter the sum. So without loss of generality, we assume $0 < a_i < m$
for all $i$. </br></br>

If $\gcd(a_i, m) = 1$ then $\gcd(m - a_i, m) = 1$. We cannot have $a_i = m - a_i$ otherwise $\gcd(a_i, m) \neq 1$. Thus
the residues occur in pairs that sum to $m$. The sum in the theorem must therefore be a multiple of $m$, which gives us
the required result.
</proof>

<theorem> If $S = \{a_0, a_1, \ldots, a_{\phi(m)}\}$ is a reduced residue system modulo $m$ then so is
$S^{-1} = \{a_0^{-1}, a_1^{-1}, \ldots, a_{\phi(m)}^{-1}\}$ where $a_i^{-1}$ is a modular inverse of $a_i$ modulo $m$.
</theorem>

<proof> Since $a_ia_i^{-1} \equiv 1 \pmod{m}$ i.e. $a_ia_i^{-1} = km + 1$ for some $k$, we have that 
$\gcd(a_i^{-1}, m) = 1$. </br></br>

If $a_i^{-1} \equiv a_j^{-1} \pmod{m}$ then $1 \equiv a_ia_i^{-1} \equiv a_ia_j^{-1} \pmod{m}$. Thus $a_i$ is a modular
inverse of $a_j^{-1}$. As such an inverse is unique modulo $m$ an $a_j$ is also such an inverse, we must have
$a_i \equiv a_j \pmod{m}$. Thus all the residues in $S^{-1}$ are distinct modulo $m$. As there are $\phi(m)$ of them,
$S^{-1}$ must be a reduced system of residues modulo $m$.
</proof>

